<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.15" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #22272e;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Fundamentals | View System</title><meta name="description" content="A highly flexible UI solution for Unity">
    <link rel="preload" href="/MacacaViewSystemDocs/assets/style-Bms-cid0.css" as="style"><link rel="stylesheet" href="/MacacaViewSystemDocs/assets/style-Bms-cid0.css">
    <link rel="modulepreload" href="/MacacaViewSystemDocs/assets/app-BQgdj9fD.js"><link rel="modulepreload" href="/MacacaViewSystemDocs/assets/Fundamentals.html-DAwmGDxy.js"><link rel="modulepreload" href="/MacacaViewSystemDocs/assets/changepage_lifecycle-BiYONWhg.js">
    <link rel="prefetch" href="/MacacaViewSystemDocs/assets/Advanced.html-D__vJFQY.js" as="script"><link rel="prefetch" href="/MacacaViewSystemDocs/assets/AllContent.html-9gw6FafT.js" as="script"><link rel="prefetch" href="/MacacaViewSystemDocs/assets/Components.html-CqvySrrX.js" as="script"><link rel="prefetch" href="/MacacaViewSystemDocs/assets/GettingStarted.html-D2I0Zk-x.js" as="script"><link rel="prefetch" href="/MacacaViewSystemDocs/assets/HelpTools.html-BoZ6Tyop.js" as="script"><link rel="prefetch" href="/MacacaViewSystemDocs/assets/Installation.html-DuY4R2Lg.js" as="script"><link rel="prefetch" href="/MacacaViewSystemDocs/assets/Introduction.html-BAo-c9rr.js" as="script"><link rel="prefetch" href="/MacacaViewSystemDocs/assets/LifeCycle Hook and Injection.html-DjgvWEbi.js" as="script"><link rel="prefetch" href="/MacacaViewSystemDocs/assets/index.html-DV3X1hMa.js" as="script"><link rel="prefetch" href="/MacacaViewSystemDocs/assets/TroubleShooting.html-uk5A7bJ3.js" as="script"><link rel="prefetch" href="/MacacaViewSystemDocs/assets/ViewElementTransition.html-itjYOJ8b.js" as="script"><link rel="prefetch" href="/MacacaViewSystemDocs/assets/VisualEditor.html-BHlNIH5b.js" as="script"><link rel="prefetch" href="/MacacaViewSystemDocs/assets/get-started(not in used).html-DNyyefLD.js" as="script"><link rel="prefetch" href="/MacacaViewSystemDocs/assets/404.html-Fouy67cM.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/MacacaViewSystemDocs/"><img class="vp-site-logo" src="/MacacaViewSystemDocs/LogoV2.png" alt="View System"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">View System</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/MacacaViewSystemDocs/" aria-label="Home"><!---->Home<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/MacacaViewSystemDocs/Introduction.html" aria-label="Documentation"><!---->Documentation<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/MacacaViewSystemDocs/" aria-label="Home"><!---->Home<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/MacacaViewSystemDocs/Introduction.html" aria-label="Documentation"><!---->Documentation<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/MacacaViewSystemDocs/Introduction.html" aria-label="Introduction"><!---->Introduction<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/MacacaViewSystemDocs/Installation.html" aria-label="Installation"><!---->Installation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/MacacaViewSystemDocs/GettingStarted.html" aria-label="GettingStarted"><!---->GettingStarted<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active" href="/MacacaViewSystemDocs/Fundamentals.html" aria-label="Fundamentals"><!---->Fundamentals<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/MacacaViewSystemDocs/ViewElementTransition.html" aria-label="ViewElement Transition"><!---->ViewElement Transition<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/MacacaViewSystemDocs/VisualEditor.html" aria-label="Visual Editor"><!---->Visual Editor<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/MacacaViewSystemDocs/LifeCycle%20Hook%20and%20Injection.html" aria-label="LifeCycle Hook and Injection"><!---->LifeCycle Hook and Injection<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/MacacaViewSystemDocs/HelpTools.html" aria-label="HelpTools"><!---->HelpTools<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/MacacaViewSystemDocs/TroubleShooting.html" aria-label="TroubleShooting"><!---->TroubleShooting<!----></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="fundamentals" tabindex="-1"><a class="header-anchor" href="#fundamentals"><span>Fundamentals</span></a></h1><h2 id="page-changer" tabindex="-1"><a class="header-anchor" href="#page-changer"><span>Page Changer</span></a></h2><p>Whenever you want to show or hide a page, you need to use the <code>PageChanger</code> class. <code>FullPageChanger</code> is used for switching FullPages, while <code>OverlayPageChanger</code> is for switching OverlayPages.</p><p><code>PageChanger</code> uses a Fluent Interface design, which allows methods to be chained together for ease of use.</p><p>For example:</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs" data-title="cs"><pre><code><span class="line"><span class="token comment">//Display the ViewPage named TestPage</span></span>
<span class="line">ViewController</span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">FullPageChanger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Initializes the FullPageChanger and returns a PageChanger object.</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">SetPage</span><span class="token punctuation">(</span><span class="token string">&quot;TestPage&quot;</span><span class="token punctuation">)</span> <span class="token comment">//Sets the target page and returns the same PageChanger instance.</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Executes the page transition.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><blockquote><p>When switching FullPages, you only need to call <code>Show()</code>. The ViewSystem will automatically leave the previous FullPage and display the next one, as only one FullPage can exist at a time. In contrast, for OverlayPages, you need to manually call <code>Show()</code> and <code>Leave()</code> for each OverlayPage.</p></blockquote><br><p>In addition to the <code>SetPage()</code> and <code>Show()</code> methods used above, there are also some advanced methods available:</p><ul><li><p><code>SetPageModel(params object[] models)</code>: Allows passing any object to the target page. This will be discussed in more detail later (see <a class="route-link" href="/MacacaViewSystemDocs/LifeCycle%20Hook%20and%20Injection.html">Lifecycle Hook and Injection</a>).</p></li><li><p><code>SetIgnoreClickProtection(bool ignoreClickProtection)</code>：Determines whether to enable click protection, meaning repeated calls within the <strong>&quot;Minimum Interval&quot;</strong> (default 0.2s) will either be ignored or added to a queue. The specific behavior is controlled by <code>SetWaitPreviousPageFinish</code>. (The <strong>Minimum Interval</strong> can be set in the <a class="route-link" href="/MacacaViewSystemDocs/VisualEditor.html#global-setting">Global Setting</a>).</p></li><li><p><code>SetWaitPreviousPageFinish(bool wait)</code> ：Determines how to handle repeated calls. This option is only relevant when <code>Click Protection</code> is enabled. If set to false, the page change will be canceled. If set to true, the page change will be added to a queue and executed after the previous page transition finishes.</p></li><li><p><code>SetIgnoreTimeScale( bool ignoreTimeScale)</code>：Determines whether to ignore the timescale. If set to false, the page transition time will be affected by the timescale.</p></li></ul><p>PageChanger also provides lifecycle event registration:</p><ul><li><code>OnStart(Action OnStart)</code></li><li><code>OnComplete(Action OnComplete)</code></li><li><code>OnChanged(Action OnChanged)</code></li></ul><h2 id="fullpage-lifecycle" tabindex="-1"><a class="header-anchor" href="#fullpage-lifecycle"><span>FullPage LifeCycle</span></a></h2><blockquote><p>Once the ChangePage API is called in the ViewController, events, callbacks, and lifecycle hooks are executed in a specific order. (The same behavior applies when using FullPageChanger.) <img src="/MacacaViewSystemDocs/assets/changepage_lifecycle-BYSTk8eK.jpg" alt="Screenshot2" height="800"></p></blockquote><h2 id="override" tabindex="-1"><a class="header-anchor" href="#override"><span>Override</span></a></h2><h3 id="override-property-on-a-viewelement" tabindex="-1"><a class="header-anchor" href="#override-property-on-a-viewelement"><span>Override property on a ViewElement</span></a></h3><p>You can override any property on ViewElement, use preview to take effect the override. With the override system, you can simply create the ViewElement variant in different ViewPage. <img src="/MacacaViewSystemDocs/assets/override_demo-CRLe8UVw.gif"></p><ul><li>Runtime Flexibility:</li></ul><p>The ViewSystem override is a runtime function, meaning that all changes exist only while the game is running. This allows you to <strong>avoid creating multiple prefab variant assets</strong>, saving time and reducing asset clutter.</p><ul><li>Limitation:</li></ul><p>The main limitation of the ViewSystem override is that <strong>it cannot add or remove components or GameObjects</strong>. In cases where you need to add or remove these elements, it’s better to use Unity’s prefab variants.</p><h3 id="override-unityevent-on-a-viewelement" tabindex="-1"><a class="header-anchor" href="#override-unityevent-on-a-viewelement"><span>Override UnityEvent on a ViewElement</span></a></h3><p>The override system also support to bind UnityEvent on an UGUI selectable.</p><p>Declare a method with a Component parameter and add the <code>ViewSystemEvent</code> attribute, and you’ll be able to find the method in the dropdown menu in the override window.</p><img src="/MacacaViewSystemDocs/assets/event_demo-DwdA6M8E.gif"><p>Example: (In UIManager.cs)</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs" data-title="cs"><pre><code><span class="line"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">MacacaGames<span class="token punctuation">.</span>ViewSystem<span class="token punctuation">.</span>ViewSystemEvent</span></span><span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">MyEvent</span><span class="token punctuation">(</span><span class="token class-name">Component</span> selectable<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">//Do something</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ViewSystem will search for any components in the current scene that implement the method. If found, it will create a temporary delegate. If none are found, a new object will be generated in the scene, and the component will be assigned to it.</p><p>This approach is suitable for placing a singleton object in the scene in advance, ensuring that the ViewSystem can find the component and will only find one.</p><h3 id="override-property-via-script" tabindex="-1"><a class="header-anchor" href="#override-property-via-script"><span>Override Property via script</span></a></h3><ul><li>Attribute</li></ul><p>You can override a property via <code>OverrideProperty</code> or <code>OverrideButtonEvent</code> Attribute in a script, take this example, this means override the <code>sprite</code> property on <code>UnityEngine.UI.Image</code> component on a child GameObject which name is &quot;Frame&quot; by the value of &quot;someSprite&quot; variable.</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs" data-title="cs"><pre><code><span class="line"><span class="token comment">// require a child class of ViewElementBehaviour</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyUILogic</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ViewElementBehaviour</span></span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">OverrideProperty</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;Frame&quot;</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">UnityEngine<span class="token punctuation">.</span>UI<span class="token punctuation">.</span>Image</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">nameof</span><span class="token punctuation">(</span>UnityEngine<span class="token punctuation">.</span>UI<span class="token punctuation">.</span>Image<span class="token punctuation">.</span>sprite<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span> <span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">SerializeField</span></span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token class-name">Sprite</span> someSprite<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">OverrideButtonEvent</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;TopRect/Button&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token class-name">Component</span> component<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Please note that in methods with <code>OverrideButtonEvent</code>, you cannot access other references within the same class. If you want to obtain them, you must use other methods, such as the various reference acquisition methods provided by ViewSystem (see <a href="#get-an-runtime-viewelement-reference-in-viewpage-viewstate">Get an runtime ViewElement reference in ViewPage/ViewState</a>) or implement them yourself.</p><hr><ul><li>ViewElementOverride</li></ul><p>ViewElementOverride allows you to set the ViewElement override on any MonoBehaviour in the Inspector</p><p>See the example:</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs" data-title="cs"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyScript</span><span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span></span><span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">SerializeField</span></span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token class-name">ViewElementOverride</span> myOverride<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>By adding a <code>ViewElementOverride</code> object field in your script, you&#39;ll see the Override Editor in your Inspector. You can use it just like the Override Window in the ViewSystem Editor.</p><img src="/MacacaViewSystemDocs/assets/viewelementoverride-dznF3YNO.png"><p>Then use <code>ViewElement.ApplyOverrides()</code> to apply the override.</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs" data-title="cs"><pre><code><span class="line"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ApplyOverride</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ViewElement<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ApplyOverrides</span><span class="token punctuation">(</span>myOverride<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="get-a-runtime-viewelement-reference-in-viewpage-viewstate" tabindex="-1"><a class="header-anchor" href="#get-a-runtime-viewelement-reference-in-viewpage-viewstate"><span>Get a runtime ViewElement reference in ViewPage/ViewState</span></a></h2><p>If the target is an <strong>Unique</strong> ViewElement (with <code>Is Unique</code> set to true on the ViewElement), you get it&#39;s instance via implement IViewElementInjectable on one of its component,then using ViewController.Instance.GetInjectionInstance&lt;SomeInjectableClass&gt;() API to get the instance.</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs" data-title="cs"><pre><code><span class="line"><span class="token comment">// SomeInjectableClass is attach on target ViewElement</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SomeInjectableClass</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MonoBehaviour</span><span class="token punctuation">,</span> <span class="token class-name">IViewElementInjectable</span></span></span>
<span class="line"><span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">SomeInjectableClass</span> someInjectableClass <span class="token operator">=</span> ViewController<span class="token punctuation">.</span>Instance<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetInjectionInstance</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>SomeInjectableClass<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Otherwise, use the <code>GetViewPageElementByName()</code> or <code>GetViewStateElementByName()</code> API to get the runtime instance from the target ViewPage/ViewState.</p><blockquote><p>Note: Since ViewElements are pooled and managed by the ViewSystem, these APIs <strong>only work while the target ViewPage/ViewState is active</strong>. The ViewElement reference may change after each <code>ChangePage()</code> call is complete.</p></blockquote><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs" data-title="cs"><pre><code><span class="line"><span class="token comment">//Get viewElement in ViewPage</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name">ViewElement</span> <span class="token function">GetViewPageElementByName</span><span class="token punctuation">(</span><span class="token class-name">ViewPage</span> viewPage<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> viewPageItemName<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name">ViewElement</span> <span class="token function">GetViewPageElementByName</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> viewPageName<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> viewPageItemName<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name">T</span> <span class="token generic-method"><span class="token function">GetViewPageElementComponentByName</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> viewPageName<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> viewPageItemName<span class="token punctuation">)</span> <span class="token keyword">where</span> <span class="token class-name">T</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Component</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name">ViewElement</span> <span class="token function">GetCurrentViewPageElementByName</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> viewPageItemName<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name">T</span> <span class="token generic-method"><span class="token function">GetCurrentViewPageElementComponentByName</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> viewPageItemName<span class="token punctuation">)</span> <span class="token keyword">where</span> <span class="token class-name">T</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Component</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//Get viewElement in ViewState</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name">ViewElement</span> <span class="token function">GetViewStateElementByName</span><span class="token punctuation">(</span><span class="token class-name">ViewState</span> viewState<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> viewStateItemName<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name">T</span> <span class="token generic-method"><span class="token function">GetViewStateElementComponentByName</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name">ViewState</span> viewState<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> viewStateItemName<span class="token punctuation">)</span> <span class="token keyword">where</span> <span class="token class-name">T</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Component</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name">ViewElement</span> <span class="token function">GetViewStateElementByName</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> viewStateName<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> viewStateItemName<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name">T</span> <span class="token generic-method"><span class="token function">GetViewStateElementComponentByName</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> viewStateName<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> viewStateItemName<span class="token punctuation">)</span> <span class="token keyword">where</span> <span class="token class-name">T</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Component</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name">ViewElement</span> <span class="token function">GetCurrentViewStateElementByName</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> viewStateItemName<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token return-type class-name">T</span> <span class="token generic-method"><span class="token function">GetCurrentViewStateElementComponentByName</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> viewStateItemName<span class="token punctuation">)</span> <span class="token keyword">where</span> <span class="token class-name">T</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Component</span></span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="components" tabindex="-1"><a class="header-anchor" href="#components"><span>Components</span></a></h2><h3 id="viewelementgroup" tabindex="-1"><a class="header-anchor" href="#viewelementgroup"><span>ViewElementGroup</span></a></h3><p>Sometimes we may want to use an existing ViewElement inside another ViewElement, and this is where the ViewElementGroup can help. ViewElementGroup functions similarly to a CanvasGroup. If a ViewElement has a ViewElementGroup attached, the OnShow/OnLeave intent will also be passed to its child ViewElements, ensuring the entire ViewElement shows or leaves correctly.</p><p>In the example shown in the screenshot below, the ConfirmBox is a ViewElement, with BtnNegative and BtnPositive as its child ViewElements. <img src="/MacacaViewSystemDocs/assets/viewelementgroup-C4KzHRbx.png"></p><p>The ViewElementGroup has a <code>Only Manual Mode</code> switch. When enabled, the ViewElement will ignore the OnShow/OnLeave intents sent by the ViewController. This is useful when you want to control the ViewElement&#39;s show/leave behavior through a script. <img src="/MacacaViewSystemDocs/assets/viewelementgroup_manual-i69cTLJ9.png" width="400"></p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs" data-title="cs"><pre><code><span class="line"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">SerializeField</span></span><span class="token punctuation">]</span></span>
<span class="line"><span class="token class-name">ViewElement</span> someViewelement<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Set the parameter to true to show the ViewElement which ViewElementGroup&#39;s **Only Manual Mode** is on.</span></span>
<span class="line">someViewelement<span class="token punctuation">.</span><span class="token function">OnShow</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// If the ViewElement is child of other ViewElement set the first bool to false to aviod the ViewElement to be pooled while OnLeave.</span></span>
<span class="line">someViewelement<span class="token punctuation">.</span><span class="token function">OnLeave</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: oldman@macaca.onmicrosoft.com">oldman</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/MacacaViewSystemDocs/GettingStarted.html" aria-label="GettingStarted"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>GettingStarted</span></div></a><a class="route-link auto-link next" href="/MacacaViewSystemDocs/ViewElementTransition.html" aria-label="ViewElement Transition"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>ViewElement Transition</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/MacacaViewSystemDocs/assets/app-BQgdj9fD.js" defer></script>
  </body>
</html>
